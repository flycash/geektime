# 极客时间Java训练营第二周作业

**1.（选做）**使用 GCLogAnalysis.java 自己演练一遍串行 / 并行 /CMS/G1 的案例。



**2.（选做）**使用压测工具（wrk 或 sb），演练 gateway-server-0.0.1-SNAPSHOT.jar 示例。



**3.（选做）**如果自己本地有可以运行的项目，可以按照 2 的方式进行演练。



**4.（必做）**根据上述自己对于 1 和 2 的演示，写一段对于不同 GC 和堆内存的总结，提交到 GitHub。



**5.（选做）**运行课上的例子，以及 Netty 的例子，分析相关现象。



**6.（必做）**写一段代码，使用 HttpClient 或 OkHttp 访问 [ http://localhost:8801 ](http://localhost:8801/)，代码提交到 GitHub

```java
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;

public class HttpReq {
    public static void main(String[] args) throws Exception {
        CloseableHttpClient httpClient = HttpClients.createDefault();
        HttpGet httpGet = new HttpGet("http://localhost:8801");
        HttpResponse response = httpClient.execute(httpGet);
        if (response.getStatusLine().getStatusCode() == 200) {
            HttpEntity resEntity = response.getEntity();
            String message = EntityUtils.toString(resEntity, "utf-8");
            System.out.println("状态码："+response.getStatusLine().getStatusCode());
            System.out.println("响应状态："+response.getStatusLine());
            System.out.println("地区："+response.getLocale());
            System.out.println("返回数据类型："+resEntity.getContentType());
            System.out.println("响应内容："+message);
        } else {
            System.out.println("出错了。状态码是："+response.getStatusLine().getStatusCode());
        }
    }
}
```

依赖库:

```xml
<!--HttpClient-->
<dependency>
    <groupId>commons-httpclient</groupId>
    <artifactId>commons-httpclient</artifactId>
    <version>3.1</version>
</dependency>

<!--CloseableHttpClient-->
<dependency>
    <groupId>org.apache.httpcomponents</groupId>
    <artifactId>httpclient</artifactId>
    <version>4.5.10</version>
</dependency>
```

输出结果：

>状态码：200
>响应状态：HTTP/1.1 200 OK
>地区：zh_CN_#Hans
>返回数据类型：Content-Type:text/html;charset=utf-8
>响应内容：hello,nio1